<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>ì¡´ë¹„ ì¹˜ë£Œ</title>

<style>
body{
  margin:0;
  font-family:sans-serif;
  background:#f6efe6;
  text-align:center;
}
.page{display:none;padding:20px;}
.active{display:block;}

button{
  padding:14px;
  border:none;
  border-radius:10px;
  background:#2e7d32;
  color:#fff;
  width:80%;
  font-size:18px;
  margin-top:20px;
}

.color-grid{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:8px;
  margin-top:12px;
}

.color-btn{
  padding:10px;
  border:none;
  border-radius:8px;
  color:#fff;
  font-size:12px;
}

.slot{
  width:40px;height:40px;
  border-radius:50%;
  border:2px solid #aaa;
  display:inline-block;
  margin:6px;
}
</style>
</head>

<body>

<!-- start -->
<div id="startPage" class="page active">
  <h2>ðŸ§Ÿ ì¡´ë¹„ ì¹˜ë£Œ í”„ë¡œê·¸ëž¨</h2>
  <button id="startBtn">START</button>
</div>

<!-- game -->
<div id="gamePage" class="page">

  <img src="zombie.png" style="width:90%;max-width:400px"
       onerror="this.style.display='none'">

  <p id="question"></p>

  <div id="colors" class="color-grid"></div>

  <div>
    <div class="slot"></div>
    <div class="slot"></div>
    <div class="slot"></div>
  </div>

  <button id="nextBtn" disabled>Next â†’</button>
</div>

<!-- end -->
<div id="endPage" class="page">
  <h2>ðŸ§‘ ì¹˜ë£Œ ì™„ë£Œ!</h2>
  <button onclick="location.reload()">ë‹¤ì‹œí•˜ê¸°</button>
</div>


<script>
const MAX_STAGE = 2;

const zombieData=[
  "ì¢€ë¹„ #1 í–‰ë™ ê´€ì°°",
  "ì¢€ë¹„ #2 í–‰ë™ ê´€ì°°"
];

const colors=[
  {t:'ì„±í­ë ¥',c:'#e53935'},
  {t:'ì„±ì°©ì·¨',c:'#fdd835',f:'#000'},
  {t:'ì†ìž„',c:'#fb8c00'},
  {t:'ë””ì§€í„¸ì„±í­ë ¥',c:'#43a047'}
];

let current=0;
let selected=[];

const startBtn=document.getElementById('startBtn');
const nextBtn=document.getElementById('nextBtn');
const colorWrap=document.getElementById('colors');
const slots=document.querySelectorAll('.slot');

startBtn.addEventListener('click',startGame);
nextBtn.addEventListener('click',nextZombie);

function show(id){
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

function startGame(){
  show('gamePage');
  load();
}

function load(){
  selected=[];
  nextBtn.disabled=true;

  document.getElementById('question').innerText=zombieData[current];

  colorWrap.innerHTML='';

  colors.forEach(c=>{
    const b=document.createElement('button');
    b.className='color-btn';
    b.style.background=c.c;
    b.style.color=c.f||'#fff';
    b.innerText=c.t;
    b.onclick=()=>select(c.c);
    colorWrap.appendChild(b);
  });

  update();
}

function select(color){
  if(selected.length>=3)return;
  selected.push(color);
  update();

  if(selected.length===3) nextBtn.disabled=false;
}

function update(){
  slots.forEach((s,i)=>{
    s.style.background=selected[i]||'#fff';
  });
}

function nextZombie(){
  current++;
  if(current>=MAX_STAGE) show('endPage');
  else load();
}
</script>

</body>
</html>
